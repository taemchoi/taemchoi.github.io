---
title: "1일차 - 연관분석, Apriori, FP-Growth"
tags: [recommendation, 연관분석, Apriori, FP-Growth]
categories:
  - recommendation-system
date: 2022-06-15
toc : true
---
## 요약 대상 원본
- utube 강의 'T아카데미 : [토크ON세미나] 추천시스템 분석 입문하기 1강 - 추천시스템의 이해(연관분석, Apriori, FP-Growth)'를 요약하였습니다.  
- <a href='https://www.youtube.com/watch?v=43gb7WK56Sk'>실제 강의 링크</a> 

## Association Analysis 연관분석
### 1. 정의
- rule-based 모델
- 장바구니 분석이라고 함
- 상품간 구매 패턴을 파악하는 분석법으로 A를 구매한 사람이 B를 구매하는 지를 분석함
- ex) 월마트 맥주와 기저귀 사례

### 2. 규칙평가지표
- <img src="/img/recsys/2/0.jpg">
- support(지지도) : P(A)로 A가 구매될 확률
- confidence(신뢰도) : A를 구매했을 때, B까지 구매가 이어질 확률
- lift(향상도) : 두 사건이 동시에 얼마나 발생하는지 비율로 각 구매의 독립성을 위한 지표

### 3. 규칙생성
- <img src="/img/recsys/2/1.jpg">
- 4가지 상품의 전체 경우의 수는 15가지가 됨
- 가능한 모든 경우의 수의 지지도, 신뢰도, 향상도를 보고 가장 성능이 높은 규칙을 찾아내는 방법
- 즉, 15가지의 case를 모두 본다.

### 4. 문제점
- 모든 경우의 수를 보기 때문에 아이템 수가 늘어나면 복잡도가 기하급수적으로 늘어난다.

## Apriori
### 1. 정의
- 빈번한 아이템셋은 하위 아이템셋 또한 빈번할 것이다. 빈번하지 않은 아이템셋은 하위 아이템셋 또한 빈번하지 않다.는 컨셉 
- 즉, 확률적으로 모 그룹({2, 3})의 지지도가 빈번하지 않으면 그 하위 그룹의 확률은 더 낮을 것이기 떄문에 제외해도 된다는 의미
- <img src="/img/recsys/2/2.jpg">

### 2. 방법
- k개의 단일 항목 집단을 선택
- 단일항목집단에서 최소 지지도 이상의 항목만 선택
- 단일항목집단의 하위집단을 생성한 다음에 최소 지지도 이상만 선택
- 반복

### 3. 장/단점
- 장점 : 간단하게 패턴을 파악할 수 있다.
- 단점 : 데이터가 클 경우에 연산량이 많음(속도 저하), 많은 연관상품이 나타남*(상관관계가 인과관계를 의미하지 않음)

## FP-Growth
### 1. 정의
- Apriori를 속도 측면에서 단점을 개선한 알고리즘(Tree구조 활용)

### 2. 방법
- 각 항목 집단의 지지도를 계산하고 최소 지지도 아이템 선택(Apriori와 동일)
- 빈도가 높은 순서대로 아이템을 정렬
- 부모 노드를 중심으로 새로운 아이템은 자식노드로 추가 그렇지 않으면 기존의 자식노드에서 확장

### 3. 장/단점
- 장점 : 2번만 탐색하면 되므로 빠름, 전체 후보집단을 생성해 볼 필요가 없음
- 단점 : 대용량이 갈수록 효율성의 한계가 생김, Tree가 다 만들어져야 지지도를 계산할 수 있음 


## mlxtend 모듈로 테스트 가능




